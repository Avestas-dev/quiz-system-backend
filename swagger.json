{
  "swagger": "2.0",
  "info": {
    "title": "Quiz System Api",
    "description": "Project made for Internet Application classes.",
    "version": "1.0.0"
  },
  "host": "localhost:8000",
  "basePath": "/",
  "schemes": [
    "http"
  ],
  "paths": {
    "/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "description": "Endpoint to sign in a specific user",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "User login.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoginRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "description": "Endpoint to register user",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "User login.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RegisterRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/refresh": {
      "get": {
        "tags": [
          "Auth"
        ],
        "description": "Get new token using refresh token.",
        "parameters": [
          {
            "name": "refresh",
            "in": "header",
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Gets refresh token.",
            "schema": {
              "$ref": "#/definitions/RefreshTokenResponse"
            }
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/reset-start": {
      "post": {
        "tags": [
          "Auth"
        ],
        "description": "Endpoint to start reset password procedure",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "User reset.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ResetStartRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/reset": {
      "post": {
        "tags": [
          "Auth"
        ],
        "description": "Endpoint to start reset password procedure",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "User reset.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ResetRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/login-google": {
      "post": {
        "tags": [
          "Auth"
        ],
        "description": "Endpoint to sign in a specific user",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "User login.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoginRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/register-google": {
      "post": {
        "tags": [
          "Auth"
        ],
        "description": "Endpoint to sign up a specific user using Google",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "User google register.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RegisterGoogleRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/user/profile": {
      "post": {
        "tags": [
          "Auth"
        ],
        "description": "Get user profile from token",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "User profile.",
            "schema": {
              "$ref": "#/definitions/ProfileResponse"
            }
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/user/add-training": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "Create training",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "Create request.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AddTrainingRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/user/edit-training": {
      "put": {
        "tags": [
          "User"
        ],
        "description": "Edit training",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "Edit request.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/EditTrainingRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/user/get-all-trainings": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Gets all trainings of all user that have visiblity set to true, and all trainings of logged in user.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/user/get-one-training": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Gets one training.",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "Get one training request.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetOneTrainingRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/user/get-questions": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Get all questions for training",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/user/get-question": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Get one question details",
        "parameters": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/user/delete-training": {
      "delete": {
        "tags": [
          "User"
        ],
        "description": "Delete training.",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "Delete request.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/DeleteTrainingRequest"
            }
          }
        ],
        "responses": {}
      }
    },
    "/user/delete-question-answer": {
      "delete": {
        "tags": [
          "User"
        ],
        "description": "Remove question answer",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "Remove question answer.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/DeleteQuestionAnswerRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/user/delete-question": {
      "delete": {
        "tags": [
          "User"
        ],
        "description": "Remove question",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "Question removed.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/DeleteQuestionRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/user/add-question": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "Create question",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "Create question request.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AddQuestionRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    },
    "/user/add-question-answer": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "Add answer for question",
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "Create answer for question request.",
            "required": true,
            "schema": {
              "$ref": "#/definitions/AddQuestionAnswerRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "apiKeyAuth": []
          }
        ]
      }
    }
  },
  "definitions": {
    "LoginRequest": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "example": "kamilporeba@hotmail.com"
        },
        "password": {
          "type": "string",
          "example": "Kamil123!"
        }
      }
    },
    "LoginResponse": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string",
          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0LCJpYXQiOjE2NjYxMDQzMTIsImV4cCI6MTc1MjEwNDMxMn0.H7E3TQPh8Nc0O5JWqPyMfRNHYoTPy57kc8z-2IJd0cc"
        },
        "refreshToken": {
          "type": "string",
          "example": "5f3c44c9-eac1-4ffd-a112-ae5a1fe38fed"
        },
        "email": {
          "type": "string",
          "example": "kamilporeba@hotmail.com"
        }
      }
    },
    "LoginGoogleRequest": {
      "type": "object",
      "properties": {
        "tokenId": {
          "type": "string",
          "example": "token"
        }
      }
    },
    "LoginGoogleResponse": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string",
          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0LCJpYXQiOjE2NjYxMDQzMTIsImV4cCI6MTc1MjEwNDMxMn0.H7E3TQPh8Nc0O5JWqPyMfRNHYoTPy57kc8z-2IJd0cc"
        },
        "refreshToken": {
          "type": "string",
          "example": "5f3c44c9-eac1-4ffd-a112-ae5a1fe38fed"
        }
      }
    },
    "RegisterGoogleResponse": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "example": "kamilporeba@hotmail.com"
        },
        "googleSub": {
          "type": "string",
          "example": "googleSub"
        },
        "id": {
          "type": "number",
          "example": 1
        },
        "password": {
          "type": "string",
          "example": "password"
        },
        "passwordResetDate": {
          "type": "object",
          "properties": {}
        },
        "passwordResetToken": {
          "type": "string",
          "example": "resetToken"
        },
        "refreshToken": {
          "type": "string",
          "example": "refreshToken"
        }
      }
    },
    "RegisterGoogleRequest": {
      "type": "object",
      "properties": {
        "tokenId": {
          "type": "string",
          "example": "token"
        }
      }
    },
    "RegisterRequest": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "example": "kamilporeba@hotmail.com"
        },
        "password": {
          "type": "string",
          "example": "Kamil123!"
        },
        "passwordRepeated": {
          "type": "string",
          "example": "Kamil123!"
        }
      }
    },
    "RegisterResponse": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "example": "kamilporeba@hotmail.com"
        },
        "googleSub": {
          "type": "string",
          "example": "googleSub"
        },
        "id": {
          "type": "number",
          "example": 1
        },
        "password": {
          "type": "string",
          "example": "password"
        },
        "passwordResetDate": {
          "type": "object",
          "properties": {}
        },
        "passwordResetToken": {
          "type": "string",
          "example": "resetToken"
        },
        "refreshToken": {
          "type": "string",
          "example": "refreshToken"
        }
      }
    },
    "ProfileResponse": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "example": "kamilporeba@hotmail.com"
        }
      }
    },
    "RefreshTokenResponse": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string",
          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0LCJpYXQiOjE2NjYxMDQzMTIsImV4cCI6MTc1MjEwNDMxMn0.H7E3TQPh8Nc0O5JWqPyMfRNHYoTPy57kc8z-2IJd0cc"
        }
      }
    },
    "ResetStartRequest": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "example": "kamilporeba@hotmail.com"
        }
      }
    },
    "ResetRequest": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "example": "kamilporeba@hotmail.com"
        },
        "resetGUID": {
          "type": "string",
          "example": "e31ace7a-99fd-45e1-91c7-855e02d54983"
        },
        "password": {
          "type": "string",
          "example": "Kamil123!"
        },
        "passwordRepeated": {
          "type": "string",
          "example": "Kamil123!"
        }
      }
    },
    "AddTrainingRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "example": "Training name"
        },
        "visibility": {
          "type": "boolean",
          "example": true
        }
      }
    },
    "EditTrainingRequest": {
      "type": "object",
      "properties": {
        "trainingId": {
          "type": "number",
          "example": 1
        },
        "name": {
          "type": "string",
          "example": "Training name"
        },
        "visibility": {
          "type": "boolean",
          "example": true
        }
      }
    },
    "GetAllTrainingsResponse": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "example": 1
          },
          "name": {
            "type": "string",
            "example": "Training name"
          },
          "visibility": {
            "type": "boolean",
            "example": true
          },
          "userId": {
            "type": "number",
            "example": 4
          }
        }
      }
    },
    "GetOneTrainingRequest": {
      "type": "object",
      "properties": {
        "trainingId": {
          "type": "number",
          "example": 1
        }
      }
    },
    "DeleteTrainingRequest": {
      "type": "object",
      "properties": {
        "trainingId": {
          "type": "number",
          "example": 1
        }
      }
    },
    "GetOneTrainingsResponse": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "example": 1
          },
          "name": {
            "type": "string",
            "example": "Training name"
          },
          "visibility": {
            "type": "boolean",
            "example": true
          },
          "userId": {
            "type": "number",
            "example": 4
          }
        }
      }
    },
    "AddQuestionRequest": {
      "type": "object",
      "properties": {
        "question": {
          "type": "number",
          "example": 1
        },
        "trainingId": {
          "type": "number",
          "example": 1
        }
      }
    },
    "AddQuestionAnswerRequest": {
      "type": "object",
      "properties": {
        "question": {
          "type": "number",
          "example": 1
        },
        "questionId": {
          "type": "number",
          "example": 1
        },
        "answer": {
          "type": "string",
          "example": "Sample answer"
        },
        "isCorrect": {
          "type": "boolean",
          "example": true
        }
      }
    },
    "GetQuestionsResponse": {
      "type": "object",
      "properties": {
        "id": {
          "type": "number",
          "example": 1
        },
        "question": {
          "type": "string",
          "example": "Test question"
        },
        "trainingId": {
          "type": "number",
          "example": 1
        },
        "QuestionAnswer": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "number",
                "example": 1
              },
              "questionId": {
                "type": "number",
                "example": 1
              },
              "answer": {
                "type": "string",
                "example": "sample answer"
              },
              "isCorrect": {
                "type": "boolean",
                "example": true
              }
            }
          }
        }
      }
    },
    "GetQuestionResponse": {
      "type": "object",
      "properties": {
        "id": {
          "type": "number",
          "example": 1
        },
        "question": {
          "type": "string",
          "example": "Test question"
        },
        "trainingId": {
          "type": "number",
          "example": 1
        },
        "QuestionAnswer": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "number",
                "example": 1
              },
              "questionId": {
                "type": "number",
                "example": 1
              },
              "answer": {
                "type": "string",
                "example": "sample answer"
              },
              "isCorrect": {
                "type": "boolean",
                "example": true
              }
            }
          }
        }
      }
    },
    "DeleteQuestionAnswerRequest": {
      "type": "object",
      "properties": {
        "questionAnswerId": {
          "type": "number",
          "example": 1
        }
      }
    },
    "DeleteQuestionRequest": {
      "type": "object",
      "properties": {
        "questionId": {
          "type": "number",
          "example": 1
        }
      }
    }
  }
}